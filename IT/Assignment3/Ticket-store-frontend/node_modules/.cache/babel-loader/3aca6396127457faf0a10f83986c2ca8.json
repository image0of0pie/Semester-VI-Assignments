{"ast":null,"code":"var _jsxFileName = \"/Users/imageofpie/IdeaProjects/Semester-VI-Assignments/IT/Assignment3/Ticket-store-frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport StoreIcon from \"@material-ui/icons/Store\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Carousal from \"./Carousal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 200\n  },\n  formControlButton: {\n    margin: theme.spacing(1),\n    minWidth: 180,\n    minHeight: 50\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    background: \"transparent\"\n  },\n  textField: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    width: 200\n  }\n}));\n\nfunction loadServerRows(page, data) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(data.slice(page * 10, (page + 1) * 10));\n    }, Math.random() * 500 + 100); // simulate network latency\n  });\n}\n\nfunction formatParams(params) {\n  return \"?\" + Object.keys(params).map(function (key) {\n    return key + \"=\" + params[key];\n  }).join(\"&\");\n}\n\nexport default function DenseAppBar() {\n  _s();\n\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rows, setRows] = React.useState([]);\n  const [data, setData] = React.useState([]);\n  const columns = [{\n    field: \"id\",\n    hide: true,\n    headerName: \"ID\"\n  }, {\n    field: \"time\",\n    width: 110,\n    headerName: \"Time\"\n  }, {\n    field: \"arrivalCity\",\n    width: 190,\n    headerName: \"Arrival City/Airport\"\n  }, {\n    field: \"departureCity\",\n    width: 190,\n    headerName: \"Departure City/Airport\"\n  }, {\n    field: \"legs\",\n    width: 90,\n    headerName: \"Legs\"\n  }, {\n    field: \"cost\",\n    width: 170,\n    headerName: \"Total Cost (in ₹)\"\n  }, {\n    field: \"duration\",\n    width: 150,\n    headerName: \"Duration(mins)\"\n  }];\n  const timeList = [\"0:00\", \"0:30\", \"1:00\", \"1:30\", \"2:00\", \"2:30\", \"3:00\", \"3:30\", \"4:00\", \"4:30\", \"5:00\", \"5:30\", \"6:00\", \"6:30\", \"7:00\", \"7:30\", \"8:00\", \"8:30\", \"9:00\", \"9:30\", \"10:00\", \"10:30\", \"11:00\", \"11:30\", \"12:00\", \"12:30\", \"13:00\", \"13:30\", \"14:00\", \"14:30\", \"15:00\", \"15:30\", \"16:00\", \"16:30\", \"17:00\", \"17:30\", \"18:00\", \"18:30\", \"19:00\", \"19:30\", \"20:00\", \"20:30\", \"21:00\", \"21:30\", \"22:00\", \"22:30\", \"23:00\", \"23:30\"];\n  const [loading, setLoading] = React.useState(false);\n  const [searchArrivalCity, setSearchArrivalCity] = React.useState(\"\");\n  const [searchDepartureCity, setSearchDepartureCity] = React.useState(\"\");\n  const [searchTime, setSearchTime] = React.useState(\"\");\n\n  const handlePageChange = params => {\n    setPage(params.page);\n  };\n\n  React.useEffect(() => {\n    let active = true;\n\n    (async () => {\n      setLoading(true);\n      const newRows = await loadServerRows(page, data);\n\n      if (!active) {\n        return;\n      }\n\n      setRows(newRows);\n      setLoading(false);\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [page, data]);\n  const [cities, setCities] = React.useState([]);\n\n  const handleSearchQuery = () => {\n    const params = {\n      arrivalCity: searchArrivalCity,\n      departureCity: searchDepartureCity,\n      time: searchTime\n    };\n    const url = \"http://localhost:8080/Assignment3_war/queryflight\" + formatParams(params);\n\n    (async () => {\n      await fetch(url).then(response => response.json()).then(res => {\n        res.sort(function (a, b) {\n          if (a.time > b.time) return 1;else return -1;\n        });\n        setData(res);\n      }).catch(err => console.log(err));\n    })();\n  };\n\n  React.useEffect(() => {\n    (async () => {\n      fetch(\"http://localhost:8080/Assignment3_war/info\").then(response => response.json()).then(data => {\n        console.log(data);\n        data.sort(function (a, b) {\n          if (a.city > b.city) {\n            return 1;\n          } else {\n            return -1;\n          }\n        });\n        setCities(data);\n      }).catch(err => console.log(err));\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(AppBar, {\n          position: \"static\",\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(Toolbar, {\n            variant: \"dense\",\n            children: [/*#__PURE__*/_jsxDEV(StoreIcon, {\n              color: \"inherit\",\n              fontSize: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              color: \"inherit\",\n              children: \"Ticket Store\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        lg: 8,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.paper,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            style: {\n              marginTop: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"demo-simple-select-filled-label\",\n                children: \"Departure City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-filled-label\",\n                id: \"demo-simple-select-filled\",\n                value: searchDepartureCity,\n                onChange: event => setSearchDepartureCity(event.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, this), cities.map(city => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: city.city,\n                  children: city.city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"demo-simple-select-filled-label\",\n                children: \"Arrival City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-filled-label\",\n                id: \"demo-simple-select-filled\",\n                value: searchArrivalCity,\n                onChange: event => setSearchArrivalCity(event.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"All\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), cities.map(city => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: city.city,\n                  children: city.city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"demo-simple-select-filled-label\",\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-filled-label\",\n                id: \"demo-simple-select-filled\",\n                value: searchTime,\n                onChange: event => setSearchTime(event.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"All\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this), timeList.map(time => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: time,\n                  children: time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              size: \"large\",\n              color: \"primary\",\n              className: classes.formControlButton,\n              onClick: () => handleSearchQuery(),\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              style: {\n                marginTop: 20\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  height: 670,\n                  width: \"100%\"\n                },\n                children: /*#__PURE__*/_jsxDEV(DataGrid, {\n                  rows: rows,\n                  columns: columns,\n                  pagination: true,\n                  pageSize: 10,\n                  rowCount: data.length,\n                  paginationMode: \"server\",\n                  onPageChange: handlePageChange,\n                  loading: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        lg: 4,\n        children: /*#__PURE__*/_jsxDEV(Carousal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DenseAppBar, \"dSqRHB/s8tWwzXSEkpXuSOoshb4=\", false, function () {\n  return [useStyles];\n});\n\n_c = DenseAppBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"DenseAppBar\");","map":{"version":3,"sources":["/Users/imageofpie/IdeaProjects/Semester-VI-Assignments/IT/Assignment3/Ticket-store-frontend/src/App.js"],"names":["React","makeStyles","AppBar","Toolbar","Typography","StoreIcon","Grid","Paper","Button","DataGrid","InputLabel","MenuItem","FormControl","Select","Carousal","useStyles","theme","formControl","margin","spacing","minWidth","formControlButton","minHeight","selectEmpty","marginTop","menuButton","marginRight","paper","padding","textAlign","background","textField","marginLeft","width","loadServerRows","page","data","Promise","resolve","setTimeout","slice","Math","random","formatParams","params","Object","keys","map","key","join","DenseAppBar","classes","setPage","useState","rows","setRows","setData","columns","field","hide","headerName","timeList","loading","setLoading","searchArrivalCity","setSearchArrivalCity","searchDepartureCity","setSearchDepartureCity","searchTime","setSearchTime","handlePageChange","useEffect","active","newRows","cities","setCities","handleSearchQuery","arrivalCity","departureCity","time","url","fetch","then","response","json","res","sort","a","b","catch","err","console","log","city","root","event","target","value","height","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport StoreIcon from \"@material-ui/icons/Store\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Carousal from \"./Carousal\";\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 200,\n  },\n  formControlButton: {\n    margin: theme.spacing(1),\n    minWidth: 180,\n    minHeight: 50,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    background: \"transparent\",\n  },\n  textField: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    width: 200,\n  },\n}));\nfunction loadServerRows(page, data) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(data.slice(page * 10, (page + 1) * 10));\n    }, Math.random() * 500 + 100); // simulate network latency\n  });\n}\nfunction formatParams(params) {\n  return (\n    \"?\" +\n    Object.keys(params)\n      .map(function (key) {\n        return key + \"=\" + params[key];\n      })\n      .join(\"&\")\n  );\n}\nexport default function DenseAppBar() {\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rows, setRows] = React.useState([]);\n  const [data, setData] = React.useState([]);\n  const columns = [\n    { field: \"id\", hide: true, headerName: \"ID\" },\n    { field: \"time\", width: 110, headerName: \"Time\" },\n    { field: \"arrivalCity\", width: 190, headerName: \"Arrival City/Airport\" },\n    {\n      field: \"departureCity\",\n      width: 190,\n      headerName: \"Departure City/Airport\",\n    },\n    { field: \"legs\", width: 90, headerName: \"Legs\" },\n    { field: \"cost\", width: 170, headerName: \"Total Cost (in ₹)\" },\n    { field: \"duration\", width: 150, headerName: \"Duration(mins)\" },\n  ];\n  const timeList = [\n    \"0:00\",\n    \"0:30\",\n    \"1:00\",\n    \"1:30\",\n    \"2:00\",\n    \"2:30\",\n    \"3:00\",\n    \"3:30\",\n    \"4:00\",\n    \"4:30\",\n    \"5:00\",\n    \"5:30\",\n    \"6:00\",\n    \"6:30\",\n    \"7:00\",\n    \"7:30\",\n    \"8:00\",\n    \"8:30\",\n    \"9:00\",\n    \"9:30\",\n    \"10:00\",\n    \"10:30\",\n    \"11:00\",\n    \"11:30\",\n    \"12:00\",\n    \"12:30\",\n    \"13:00\",\n    \"13:30\",\n    \"14:00\",\n    \"14:30\",\n    \"15:00\",\n    \"15:30\",\n    \"16:00\",\n    \"16:30\",\n    \"17:00\",\n    \"17:30\",\n    \"18:00\",\n    \"18:30\",\n    \"19:00\",\n    \"19:30\",\n    \"20:00\",\n    \"20:30\",\n    \"21:00\",\n    \"21:30\",\n    \"22:00\",\n    \"22:30\",\n    \"23:00\",\n    \"23:30\",\n  ];\n  const [loading, setLoading] = React.useState(false);\n  const [searchArrivalCity, setSearchArrivalCity] = React.useState(\"\");\n  const [searchDepartureCity, setSearchDepartureCity] = React.useState(\"\");\n  const [searchTime, setSearchTime] = React.useState(\"\");\n  const handlePageChange = (params) => {\n    setPage(params.page);\n  };\n\n  React.useEffect(() => {\n    let active = true;\n\n    (async () => {\n      setLoading(true);\n      const newRows = await loadServerRows(page, data);\n\n      if (!active) {\n        return;\n      }\n\n      setRows(newRows);\n      setLoading(false);\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [page, data]);\n\n  const [cities, setCities] = React.useState([]);\n  const handleSearchQuery = () => {\n    const params = {\n      arrivalCity: searchArrivalCity,\n      departureCity: searchDepartureCity,\n      time: searchTime,\n    };\n    const url =\n      \"http://localhost:8080/Assignment3_war/queryflight\" +\n      formatParams(params);\n    (async () => {\n      await fetch(url)\n        .then((response) => response.json())\n        .then((res) => {\n          res.sort(function (a, b) {\n            if (a.time > b.time) return 1;\n            else return -1;\n          });\n          setData(res);\n        })\n        .catch((err) => console.log(err));\n    })();\n  };\n  React.useEffect(() => {\n    (async () => {\n      fetch(\"http://localhost:8080/Assignment3_war/info\")\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(data);\n          data.sort(function (a, b) {\n            if (a.city > b.city) {\n              return 1;\n            } else {\n              return -1;\n            }\n          });\n          setCities(data);\n        })\n        .catch((err) => console.log(err));\n    })();\n  }, []);\n  return (\n    <div className={classes.root}>\n      <Grid container>\n        <Grid item xs={12}>\n          <AppBar position=\"static\" color=\"primary\">\n            <Toolbar variant=\"dense\">\n              <StoreIcon color=\"inherit\" fontSize=\"large\" />\n              <Typography variant=\"h5\" color=\"inherit\">\n                Ticket Store\n              </Typography>\n            </Toolbar>\n          </AppBar>\n        </Grid>\n        <Grid item xs={12} sm={12} lg={8}>\n          <Paper className={classes.paper}>\n            <Grid item xs={12} style={{ marginTop: 10 }}>\n              <FormControl className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-filled-label\">\n                  Departure City\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-filled-label\"\n                  id=\"demo-simple-select-filled\"\n                  value={searchDepartureCity}\n                  onChange={(event) =>\n                    setSearchDepartureCity(event.target.value)\n                  }\n                >\n                  <MenuItem value=\"\">\n                    <em>None</em>\n                  </MenuItem>\n                  {cities.map((city) => (\n                    <MenuItem value={city.city}>{city.city}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <FormControl className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-filled-label\">\n                  Arrival City\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-filled-label\"\n                  id=\"demo-simple-select-filled\"\n                  value={searchArrivalCity}\n                  onChange={(event) => setSearchArrivalCity(event.target.value)}\n                >\n                  <MenuItem value=\"\">\n                    <em>All</em>\n                  </MenuItem>\n                  {cities.map((city) => (\n                    <MenuItem value={city.city}>{city.city}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n\n              <FormControl className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-filled-label\">\n                  Time\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-filled-label\"\n                  id=\"demo-simple-select-filled\"\n                  value={searchTime}\n                  onChange={(event) => setSearchTime(event.target.value)}\n                >\n                  <MenuItem value=\"\">\n                    <em>All</em>\n                  </MenuItem>\n                  {timeList.map((time) => (\n                    <MenuItem value={time}>{time}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <Button\n                variant=\"contained\"\n                size=\"large\"\n                color=\"primary\"\n                className={classes.formControlButton}\n                onClick={() => handleSearchQuery()}\n              >\n                Search\n              </Button>\n            </Grid>\n            <Grid item xs={12}>\n              <Paper style={{ marginTop: 20 }}>\n                <div style={{ height: 670, width: \"100%\" }}>\n                  <DataGrid\n                    rows={rows}\n                    columns={columns}\n                    pagination\n                    pageSize={10}\n                    rowCount={data.length}\n                    paginationMode=\"server\"\n                    onPageChange={handlePageChange}\n                    loading={loading}\n                  />\n                </div>\n              </Paper>\n            </Grid>\n            <Grid item xs={2}></Grid>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={12} lg={4}>\n          <Carousal />\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}