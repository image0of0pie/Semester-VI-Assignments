{"ast":null,"code":"var _jsxFileName = \"/Users/imageofpie/IdeaProjects/Semester-VI-Assignments/IT/Assignment3/Ticket-store-frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport StoreIcon from \"@material-ui/icons/Store\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 200\n  },\n  formControlButton: {\n    margin: theme.spacing(1),\n    minWidth: 180,\n    minHeight: 50\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    background: \"transparent\"\n  },\n  textField: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    width: 200\n  }\n}));\n\nfunction loadServerRows(page, data) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(data.slice(page * 5, (page + 1) * 5));\n    }, Math.random() * 500 + 100); // simulate network latency\n  });\n}\n\nfunction formatParams(params) {\n  return \"?\" + Object.keys(params).map(function (key) {\n    return key + \"=\" + params[key];\n  }).join(\"&\");\n}\n\nexport default function DenseAppBar() {\n  _s();\n\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rows, setRows] = React.useState([]);\n  const [data, setData] = React.useState([]);\n  const columns = [{\n    field: \"id\",\n    hide: true,\n    headerName: \"ID\"\n  }, {\n    field: \"time\",\n    width: 110,\n    headerName: \"Time\"\n  }, {\n    field: \"arrivalCity\",\n    width: 150,\n    headerName: \"Arrival City\"\n  }, {\n    field: \"departureCity\",\n    width: 150,\n    headerName: \"Departure City\"\n  }, {\n    field: \"legs\",\n    width: 90,\n    headerName: \"Legs\"\n  }, {\n    field: \"cost\",\n    width: 120,\n    headerName: \"Total Cost\"\n  }, {\n    field: \"duration\",\n    width: 110,\n    headerName: \"Duration\"\n  }];\n  const timeList = [\"00:00\", \"00:30\", \"01:00\", \"01:30\", \"02:00\", \"02:30\", \"03:00\", \"03:30\", \"04:00\", \"04:30\", \"05:00\", \"05:30\", \"06:00\", \"06:30\", \"07:00\", \"07:30\", \"08:00\", \"08:30\", \"09:00\", \"09:30\", \"10:00\", \"10:30\", \"11:00\", \"11:30\", \"12:00\", \"12:30\", \"13:00\", \"13:30\", \"14:00\", \"14:30\", \"15:00\", \"15:30\", \"16:00\", \"16:30\", \"17:00\", \"17:30\", \"18:00\", \"18:30\", \"19:00\", \"19:30\", \"20:00\", \"20:30\", \"21:00\", \"21:30\", \"22:00\", \"22:30\", \"23:00\", \"23:30\"];\n  const [loading, setLoading] = React.useState(false);\n  const [searchArrivalCity, setSearchArrivalCity] = React.useState(\"\");\n  const [searchDepartureCity, setSearchDepartureCity] = React.useState(\"\");\n  const [searchTime, setSearchTime] = React.useState(\"\");\n\n  const handlePageChange = params => {\n    setPage(params.page);\n  };\n\n  React.useEffect(() => {\n    let active = true;\n\n    (async () => {\n      setLoading(true);\n      const newRows = await loadServerRows(page, data);\n\n      if (!active) {\n        return;\n      }\n\n      setRows(newRows);\n      setLoading(false);\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [page, data]);\n  const [cities, setCities] = React.useState([]);\n\n  const handleSearchQuery = () => {\n    const params = {\n      arrivalCity: searchArrivalCity,\n      departureCity: searchDepartureCity,\n      time: searchTime\n    };\n    const url = \"http://localhost:8080/Assignment3_war/queryflight\" + formatParams(params);\n\n    (async () => {\n      fetch(url).then(response => response.json()).then(res => {\n        setData(res);\n      }).catch(err => console.log(err));\n    })();\n  };\n\n  React.useEffect(() => {\n    (async () => {\n      fetch(\"http://localhost:8080/Assignment3_war/info\").then(response => response.json()).then(data => {\n        console.log(data);\n        data.sort(function (a, b) {\n          if (a.city.toLowerCase() > b.city.toLowerCase()) {\n            return 1;\n          } else {\n            return -1;\n          }\n        });\n        setCities(data);\n      }).catch(err => console.log(err));\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(AppBar, {\n          position: \"static\",\n          color: \"secondary\",\n          children: /*#__PURE__*/_jsxDEV(Toolbar, {\n            variant: \"dense\",\n            children: [/*#__PURE__*/_jsxDEV(StoreIcon, {\n              color: \"inherit\",\n              fontSize: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              color: \"inherit\",\n              children: \"Ticket Store\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 7,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.paper,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            style: {\n              marginTop: 70\n            },\n            children: [/*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"demo-simple-select-filled-label\",\n                children: \"Departure City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-filled-label\",\n                id: \"demo-simple-select-filled\",\n                value: searchDepartureCity,\n                onChange: event => setSearchDepartureCity(event.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), cities.map(city => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: city.city,\n                  children: city.city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"demo-simple-select-filled-label\",\n                children: \"Arrival City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-filled-label\",\n                id: \"demo-simple-select-filled\",\n                value: searchArrivalCity,\n                onChange: event => setSearchArrivalCity(event.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this), cities.map(city => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: city.city,\n                  children: city.city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              className: classes.formControl,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"demo-simple-select-filled-label\",\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-filled-label\",\n                id: \"demo-simple-select-filled\",\n                value: searchTime,\n                onChange: event => setSearchTime(event.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"None\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), timeList.map(time => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: time,\n                  children: time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              size: \"medium\",\n              color: \"secondary\",\n              className: classes.formControlButton,\n              onClick: () => handleSearchQuery(),\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  height: 400,\n                  width: \"100%\"\n                },\n                children: /*#__PURE__*/_jsxDEV(DataGrid, {\n                  rows: rows,\n                  columns: columns,\n                  pagination: true,\n                  pageSize: 5,\n                  rowCount: data.length,\n                  paginationMode: \"server\",\n                  onPageChange: handlePageChange,\n                  loading: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DenseAppBar, \"dSqRHB/s8tWwzXSEkpXuSOoshb4=\", false, function () {\n  return [useStyles];\n});\n\n_c = DenseAppBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"DenseAppBar\");","map":{"version":3,"sources":["/Users/imageofpie/IdeaProjects/Semester-VI-Assignments/IT/Assignment3/Ticket-store-frontend/src/App.js"],"names":["React","makeStyles","AppBar","Toolbar","Typography","StoreIcon","Grid","Paper","Button","DataGrid","InputLabel","MenuItem","FormControl","Select","useStyles","theme","formControl","margin","spacing","minWidth","formControlButton","minHeight","selectEmpty","marginTop","menuButton","marginRight","paper","padding","textAlign","background","textField","marginLeft","width","loadServerRows","page","data","Promise","resolve","setTimeout","slice","Math","random","formatParams","params","Object","keys","map","key","join","DenseAppBar","classes","setPage","useState","rows","setRows","setData","columns","field","hide","headerName","timeList","loading","setLoading","searchArrivalCity","setSearchArrivalCity","searchDepartureCity","setSearchDepartureCity","searchTime","setSearchTime","handlePageChange","useEffect","active","newRows","cities","setCities","handleSearchQuery","arrivalCity","departureCity","time","url","fetch","then","response","json","res","catch","err","console","log","sort","a","b","city","toLowerCase","root","event","target","value","height","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport StoreIcon from \"@material-ui/icons/Store\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 200,\n  },\n  formControlButton: {\n    margin: theme.spacing(1),\n    minWidth: 180,\n    minHeight: 50,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    background: \"transparent\",\n  },\n  textField: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    width: 200,\n  },\n}));\nfunction loadServerRows(page, data) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(data.slice(page * 5, (page + 1) * 5));\n    }, Math.random() * 500 + 100); // simulate network latency\n  });\n}\nfunction formatParams(params) {\n  return (\n    \"?\" +\n    Object.keys(params)\n      .map(function (key) {\n        return key + \"=\" + params[key];\n      })\n      .join(\"&\")\n  );\n}\nexport default function DenseAppBar() {\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rows, setRows] = React.useState([]);\n  const [data, setData] = React.useState([]);\n  const columns = [\n    { field: \"id\", hide: true, headerName: \"ID\" },\n    { field: \"time\", width: 110, headerName: \"Time\" },\n    { field: \"arrivalCity\", width: 150, headerName: \"Arrival City\" },\n    { field: \"departureCity\", width: 150, headerName: \"Departure City\" },\n    { field: \"legs\", width: 90, headerName: \"Legs\" },\n    { field: \"cost\", width: 120, headerName: \"Total Cost\" },\n    { field: \"duration\", width: 110, headerName: \"Duration\" },\n  ];\n  const timeList = [\n    \"00:00\",\n    \"00:30\",\n    \"01:00\",\n    \"01:30\",\n    \"02:00\",\n    \"02:30\",\n    \"03:00\",\n    \"03:30\",\n    \"04:00\",\n    \"04:30\",\n    \"05:00\",\n    \"05:30\",\n    \"06:00\",\n    \"06:30\",\n    \"07:00\",\n    \"07:30\",\n    \"08:00\",\n    \"08:30\",\n    \"09:00\",\n    \"09:30\",\n    \"10:00\",\n    \"10:30\",\n    \"11:00\",\n    \"11:30\",\n    \"12:00\",\n    \"12:30\",\n    \"13:00\",\n    \"13:30\",\n    \"14:00\",\n    \"14:30\",\n    \"15:00\",\n    \"15:30\",\n    \"16:00\",\n    \"16:30\",\n    \"17:00\",\n    \"17:30\",\n    \"18:00\",\n    \"18:30\",\n    \"19:00\",\n    \"19:30\",\n    \"20:00\",\n    \"20:30\",\n    \"21:00\",\n    \"21:30\",\n    \"22:00\",\n    \"22:30\",\n    \"23:00\",\n    \"23:30\",\n  ];\n  const [loading, setLoading] = React.useState(false);\n  const [searchArrivalCity, setSearchArrivalCity] = React.useState(\"\");\n  const [searchDepartureCity, setSearchDepartureCity] = React.useState(\"\");\n  const [searchTime, setSearchTime] = React.useState(\"\");\n  const handlePageChange = (params) => {\n    setPage(params.page);\n  };\n\n  React.useEffect(() => {\n    let active = true;\n\n    (async () => {\n      setLoading(true);\n      const newRows = await loadServerRows(page, data);\n\n      if (!active) {\n        return;\n      }\n\n      setRows(newRows);\n      setLoading(false);\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [page, data]);\n\n  const [cities, setCities] = React.useState([]);\n  const handleSearchQuery = () => {\n    const params = {\n      arrivalCity: searchArrivalCity,\n      departureCity: searchDepartureCity,\n      time: searchTime,\n    };\n    const url =\n      \"http://localhost:8080/Assignment3_war/queryflight\" +\n      formatParams(params);\n    (async () => {\n      fetch(url)\n        .then((response) => response.json())\n        .then((res) => {\n          setData(res);\n        })\n        .catch((err) => console.log(err));\n    })();\n  };\n  React.useEffect(() => {\n    (async () => {\n      fetch(\"http://localhost:8080/Assignment3_war/info\")\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(data);\n          data.sort(function (a, b) {\n            if (a.city.toLowerCase() > b.city.toLowerCase()) {\n              return 1;\n            } else {\n              return -1;\n            }\n          });\n          setCities(data);\n        })\n        .catch((err) => console.log(err));\n    })();\n  }, []);\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <AppBar position=\"static\" color=\"secondary\">\n            <Toolbar variant=\"dense\">\n              <StoreIcon color=\"inherit\" fontSize=\"large\" />\n              <Typography variant=\"h5\" color=\"inherit\">\n                Ticket Store\n              </Typography>\n            </Toolbar>\n          </AppBar>\n        </Grid>\n        <Grid item xs={7}>\n          <Paper className={classes.paper}>\n            <Grid item xs={12}></Grid>\n            <Grid item xs={12} style={{ marginTop: 70 }}>\n              <FormControl className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-filled-label\">\n                  Departure City\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-filled-label\"\n                  id=\"demo-simple-select-filled\"\n                  value={searchDepartureCity}\n                  onChange={(event) =>\n                    setSearchDepartureCity(event.target.value)\n                  }\n                >\n                  <MenuItem value=\"\">\n                    <em>None</em>\n                  </MenuItem>\n                  {cities.map((city) => (\n                    <MenuItem value={city.city}>{city.city}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <FormControl className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-filled-label\">\n                  Arrival City\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-filled-label\"\n                  id=\"demo-simple-select-filled\"\n                  value={searchArrivalCity}\n                  onChange={(event) => setSearchArrivalCity(event.target.value)}\n                >\n                  <MenuItem value=\"\">\n                    <em>None</em>\n                  </MenuItem>\n                  {cities.map((city) => (\n                    <MenuItem value={city.city}>{city.city}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n\n              <FormControl className={classes.formControl}>\n                <InputLabel id=\"demo-simple-select-filled-label\">\n                  Time\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-filled-label\"\n                  id=\"demo-simple-select-filled\"\n                  value={searchTime}\n                  onChange={(event) => setSearchTime(event.target.value)}\n                >\n                  <MenuItem value=\"\">\n                    <em>None</em>\n                  </MenuItem>\n                  {timeList.map((time) => (\n                    <MenuItem value={time}>{time}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <Button\n                variant=\"contained\"\n                size=\"medium\"\n                color=\"secondary\"\n                className={classes.formControlButton}\n                onClick={() => handleSearchQuery()}\n              >\n                Search\n              </Button>\n            </Grid>\n            <Grid item xs={12}>\n              <Paper>\n                <div style={{ height: 400, width: \"100%\" }}>\n                  <DataGrid\n                    rows={rows}\n                    columns={columns}\n                    pagination\n                    pageSize={5}\n                    rowCount={data.length}\n                    paginationMode=\"server\"\n                    onPageChange={handlePageChange}\n                    loading={loading}\n                  />\n                </div>\n              </Paper>\n            </Grid>\n            <Grid item xs={2}></Grid>\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}